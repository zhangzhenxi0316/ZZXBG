{"version":3,"sources":["pages/Login/index.js","util/index.js","pages/Login/Login.jsx","pages/Admin/index.js","pages/Admin/AddArticle/index.js","pages/Admin/AddArticle/AddArticle.jsx","pages/ArticleList/index.js","pages/ArticleList/ArticleList.jsx","pages/Admin/Admin.jsx","App.js","index.js"],"names":["LoginDiv","styled","div","axiosInstance","axios","create","baseURL","withCredentials","Login","props","useState","username","setUsername","password","setPassword","isLoading","setIsLoading","className","tip","spinning","title","bordered","style","width","id","size","placeholder","prefix","UserOutlined","color","onChange","e","target","value","Password","KeyOutlined","type","block","onClick","request","url","method","data","then","res","code","localStorage","setItem","openId","history","push","message","error","setTimeout","LayoutWrapper","AddArticleWrapper","Option","TextArea","marked","setOptions","renderer","Renderer","gfm","pedantic","sanitize","tables","breaks","smartLists","smartypants","xhtml","highlight","window","hljs","highlightAuto","AddArticle","articleId","setArticleId","articleTitle","setArticleTitle","articleContent","setArticleContent","markdownContent","setMarkdownContent","introducemd","setIntroducemd","introducehtml","setIntroducehtml","showDate","setShowDate","newType","setNewType","showNewType","setShowNewType","typeInfo","setTypeInfo","typename","setTypename","selectedType","setSelectType","showDateSwitch","setShowDateSwitch","useEffect","match","params","article_content","introduce","typeId","typeName","addTime","success","a","getItem","b","gutter","span","console","log","map","item","html","rows","dangerouslySetInnerHTML","__html","articleid","type_id","catch","err","removeItem","date","dateString","ArticleListBox","confirm","ArticleList","list","setList","header","dataSource","renderItem","Item","view_count","content","onOk","onCancel","Content","Footer","Sider","SubMenu","Admin","collapsed","setCollapsed","minHeight","collapsible","onCollapse","theme","defaultSelectedKeys","mode","icon","PieChartOutlined","DesktopOutlined","key","FileOutlined","margin","padding","path","exact","component","textAlign","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8437be6d.chunk.js","sourcesContent":["import styled from 'styled-components'\nexport const LoginDiv = styled.div`\nmargin:150px auto;\nwidth:400px;\n.ipt{\n    margin-bottom:1rem;\n    border-radius:5px;\n}\n.btn{\n    background-color:#BB442C;\n    border:0;\n}\n`\n","import axios from 'axios'\nconst axiosInstance  = axios.create({\n    baseURL:'http://www.zzxbg.cn:3001',\n    // baseURL:'http://localhost:3001',\n    withCredentials:true\n})\nexport default axiosInstance","import { useState} from 'react'\nimport {Card,Input,Button,Spin,message} from 'antd';\nimport {UserOutlined ,KeyOutlined } from '@ant-design/icons'\nimport * as style  from './index'\nimport axiosInstance from '../../util';\n\nconst Login = (props)=>{\n    const [username,setUsername] = useState('')\n    const [password,setPassword] = useState('')\n    const [isLoading,setIsLoading] = useState(false)\n    function handleSubmit(){\n\n        setIsLoading(true)\n        // setTimeout(()=>{setIsLoading(false)},1000)\n        if(!username){\n            message.error('用户名不能为空')\n            setTimeout(()=>{\n                setIsLoading(false)\n            },500)\n            return ;\n        }else if(!password){\n            message.error('密码不能为空')\n            setTimeout(()=>{\n                setIsLoading(false)\n            },500)\n            return ;\n        }\n        axiosInstance.request({url:'/login',method:'POST',data:{username:username,password:password}}).then(res=>{\n            setIsLoading(false)\n            if(res.data.code===200){\n                localStorage.setItem('openId',res.data.openId)\n                props.history.push('/admin')\n            }else{\n                message.error('用户名密码错误')\n            }\n        })\n    }\n  \nreturn(\n    <style.LoginDiv className=\"login-div\">\n        <Spin tip=\"loading...\" spinning={isLoading} >\n            <Card title=\"ZZXBG\" bordered={true} style={{width:400}}>\n                <Input\n                className=\"ipt\"\n                id=\"userName\"\n                size=\"large\"\n                placeholder=\"Enter your userName\"\n                prefix={<UserOutlined style={{color:'rgba(0,0,0,.25)'}}/>}\n                onChange={(e)=>{setUsername(e.target.value)}}\n                \n                />\n                 <br></br>\n                 <Input.Password\n                className=\"ipt\"\n                id=\"password\"\n                size=\"large\"\n                placeholder=\"Enter your Password\"\n                prefix={<KeyOutlined style={{color:'rgba(0,0,0,.25)'}}/>}\n                onChange={(e)=>{setPassword(e.target.value)}}\n                />\n                <br/>\n                <Button className=\"btn\" type=\"primary\" block size=\"large\"  onClick={handleSubmit}>提交</Button>\n            </Card>\n           \n            \n        </Spin>\n    </style.LoginDiv>\n)\n}\nexport default Login","import styled from 'styled-components'\nexport const LayoutWrapper = styled.div`\n .logo {\n    height: 32px;\n    margin: 16px;\n    background: rgba(255, 255, 255, 0.3);\n  }\n  \n .site-layout-background {\n    background: #fff;\n  }\n`","import styled from 'styled-components'\nexport const AddArticleWrapper = styled.div`\n.btn{\n    margin-right:10px;\n}\n.introduce-html{\n    margin-top:10px;\n}\n`","import React, { useState, useEffect } from \"react\";\nimport marked from \"marked\";\nimport { Row, Col, Input, Select, Button, DatePicker, message } from \"antd\";\nimport * as style from \"./index\";\n// import hljs from \"highlight.js\";\nimport \"highlight.js/styles/monokai-sublime.css\";\nimport axiosInstance from \"../../../util/index\";\nconst { Option } = Select;\nconst { TextArea } = Input;\nmarked.setOptions({\n  renderer: marked.Renderer(),\n  gfm: true, //github样式\n  pedantic: false, //容错\n  sanitize: false, //忽略html\n  tables: true, //github table样式\n  breaks: false,\n  smartLists: true,\n  smartypants: false,\n  xhtml: false,\n  highlight: function (code) {\n    return window.hljs.highlightAuto(code).value;\n  },\n});\n\nfunction AddArticle(props) {\n  const [articleId, setArticleId] = useState(0); //0是新增，1 是修改\n  const [articleTitle, setArticleTitle] = useState(\"\"); //title\n  const [articleContent, setArticleContent] = useState(\"\");\n  const [markdownContent, setMarkdownContent] = useState(\"预览内容\");\n  const [introducemd, setIntroducemd] = useState(\"\");\n  const [introducehtml, setIntroducehtml] = useState(\"等待编辑\");\n  const [showDate, setShowDate] = useState();\n  const [newType, setNewType] = useState(\"\");\n  const [showNewType, setShowNewType] = useState(false);\n  // const [updateDate,setup]\n  const [typeInfo, setTypeInfo] = useState([]);\n  const [typename,setTypename] = useState('')\n  const [selectedType, setSelectType] = useState();\n  const [showDateSwitch,setShowDateSwitch] = useState(true)\n  useEffect(() => {\n    let id = props.match.params.id\n    // console.log(id) \n    if(id){\n      // console.log(111)\n      // 修改\n      setArticleId(1)\n      axiosInstance.request('/admin/getArticleById?id='+id).then(res=>{\n        if(res.data.code===301){props.history.push('/login')}\n        setArticleTitle (res.data.title) \n        setArticleContent (res.data.article_content) \n        setMarkdownContent (marked(res.data.article_content))\n        setIntroducemd (res.data.introduce);\n        setIntroducehtml (marked(res.data.introduce) );\n        setShowDateSwitch(false)\n        setSelectType(res.data.typeId)\n        setTypename(res.data.typeName)\n        setShowDate(res.data.addTime)\n        // console.log(res.data.typeId)\n      }).then(res=>{\n        if (res.data.code === 301) {\n          message.error(\"重新登陆管理系统\");\n          props.history.push(\"/\");\n        }\n        else message.success('文章加载完成')\n      })\n    }\n    axiosInstance.request(\"/admin/getArticleTypes\").then((res) => {\n      if(res.data.code===301){props.history.push('/login')}\n      //   console.log(res);\n      if (res.data.code === 301) {\n        message.error(\"重新登陆管理系统\");\n        props.history.push(\"/\");\n      } else {\n        setTypeInfo(res.data);\n      }\n    });\n    let a = localStorage.getItem(\"articleContent\");\n    let b = localStorage.getItem(\"introducemd\");\n    if (a) {\n      setArticleContent(a);\n      setMarkdownContent(marked(a));\n      message.success(\"缓存文章内容加载成功\");\n    }\n    if (b) {\n      setIntroducemd(b);\n      setIntroducehtml(marked(b));\n      message.success(\"缓存文章标题加载成功\");\n    }\n  }, []);\n  function changeContent(e) {\n    let value = e.target.value;\n    setArticleContent(e.target.value);\n    let html = marked(value);\n    setMarkdownContent(html);\n    // console.log(html)\n  }\n  function changeIntroduce(e) {\n    setIntroducemd(e.target.value);\n    setIntroducehtml(marked(e.target.value));\n  }\n  function optionChange(e) {\n    setSelectType(e);\n    console.log(e);\n    if (e === \"add\") setShowNewType(true);\n    else setShowNewType(false);\n  }\n  function saveArticle() {\n    // console.log(newType)\n    // 保存文章\n    // localStorage.setItem('articleTitle',articleTitle)\n    localStorage.setItem(\"articleContent\", articleContent);\n    localStorage.setItem(\"introducemd\", introducemd);\n    message.success(\"保存成功\");\n  }\n  function submit() {\n    if (!articleTitle) {\n      message.error(\"文章标题不能为空\");\n      return;\n    } else if (!articleContent) {\n      message.error(\"文章内容不能为空\");\n      return;\n    } else if (!showDate) {\n      message.error(\"文章日期不能为空\");\n      return;\n    } else if (!introducemd) {\n      message.error(\"文章简介不能为空\");\n      return;\n    } else if (!selectedType) {\n      message.error(\"类型不能为空\");\n\n      return;\n    } else if (selectedType === \"add\" && !newType) {\n      message.error(\"自定义类型不能为空\");\n      return;\n    }\n    let id = props.match.params.id\n    axiosInstance\n      .request({\n        url: \"/admin/addArticle\",\n        method: \"POST\",\n        data: {\n          id,\n          articleid: articleId,\n          title: articleTitle,\n          article_content: articleContent,\n          introduce: introducemd,\n          addTime: showDate,\n          type_id: selectedType,\n          typeName: newType,\n        },\n      })\n      .then((res) => {\n        console.log(res);\n        if (res.data.code === 301) {\n          message.error(\"重新登陆管理系统\");\n          props.history.push(\"/\");\n        }else{\n          message.success(\"发布成功\");\n        props.history.push('/admin/list')\n        }\n        \n      })\n      .catch((err) => {\n        console.log(err);\n        message.error(\"发布失败\");\n      });\n  }\n  function cleanArticle(){\n    localStorage.removeItem(\"articleContent\")\n    localStorage.removeItem(\"introducemd\")\n  }\n  return (\n    <style.AddArticleWrapper>\n      <Row gutter={5}>\n        <Col span={18}>\n          <Row gutter={10}>\n            <Col span={16}>\n              <Input\n                value={articleTitle}\n                placeholder=\"博客标题\"\n                size=\"large\"\n                onChange={(e) => {\n                  setArticleTitle(e.target.value);\n                }}\n              />\n            </Col>\n            <Col span={4}>\n              <Select\n                onChange={optionChange}\n                placeholder={typename?typename:\"请选择类别\"}\n                size=\"large\"\n                // defaultValue={newType}\n              >\n                {typeInfo.map((item) => {\n                  return (\n                    <Option size=\"large\" key={item.id} value={item.id}>\n                      {item.typeName}\n                    </Option>\n                  );\n                })}\n                <Option value=\"add\">添加新类别</Option>\n              </Select>\n            </Col>\n            <Col span={4}>\n              {showNewType && (\n                <Input\n                  value={newType}\n                  size=\"large\"\n                  placeholder=\"输入新类别\"\n                  onChange={(e) => setNewType(e.target.value)}\n                ></Input>\n              )}\n            </Col>\n          </Row>\n          <br></br>\n          <Row gutter={10}>\n            <Col span={12}>\n              <TextArea\n                value={articleContent}\n                className=\"markdown-content\"\n                onChange={changeContent}\n                rows={35}\n                placeholder=\"Write Markdown\"\n              />\n            </Col>\n            <Col span={12}>\n              <div\n                className=\"show-html\"\n                dangerouslySetInnerHTML={{ __html: markdownContent }}\n              ></div>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={6}>\n          <Row>\n            <Col span={24}>\n              <Button className=\"btn\" size=\"large\" onClick={saveArticle}>\n                暂存文章\n              </Button>\n              <Button className=\"btn\" size=\"large\" type=\"primary\" onClick={submit}>\n                提交文章\n              </Button>\n              <Button className=\"btn\" size=\"large\" onClick={cleanArticle}>\n                清除缓存文章\n              </Button>\n            </Col>\n            <Col span={24}>\n              <br></br>\n              <TextArea\n                value={introducemd}\n                rows={4}\n                onChange={changeIntroduce}\n                placeholder=\" article introduce\"\n              ></TextArea>\n              <div\n                className=\"introduce-html\"\n                dangerouslySetInnerHTML={{ __html: introducehtml }}\n              ></div>\n            </Col>\n            <Col span={12}>\n              {showDateSwitch&&<div className=\"date-select\">\n                <DatePicker\n                  onChange={(date, dateString) => {\n                    setShowDate(dateString);\n                  }}\n                  placeholder=\"发布日期\"\n                  size=\"large\"\n                />\n              </div>}\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </style.AddArticleWrapper>\n  );\n}\nexport default AddArticle;\n","import styled from 'styled-components'\nexport const  ArticleListBox = styled.div`\n.list-div{\n    width:100%;\n}\n`","import React, { useState, useEffect } from \"react\";\nimport { List, Row, Col, Modal, message, Button } from \"antd\";\nimport axiosInstance from \"../../util/index\";\nimport * as style from \"./index\";\nconst { confirm } = Modal;\nfunction ArticleList(props) {\n  const [list, setList] = useState([]);\n  useEffect(() => {\n    axiosInstance.request(\"/admin/getArticleList\").then((res) => {\n      if (res.data.code === 301) {\n        message.error(\"重新登陆管理系统\");\n        props.history.push(\"/\");\n      } else setList(res.data);\n    });\n  }, []);\n  function deleteArticle(id) {\n    confirm({\n      title: \"确定要删除这篇文章吗\",\n      content: \"如果点击ok 文章永远丢失\",\n      onOk() {\n        axiosInstance\n          .request({\n            url: \"/admin/deleteArticleById\",\n            method: \"post\",\n            data: { id },\n          })\n          .then((res) => {\n            message.success(\"文章删除成功\");\n            axiosInstance.request(\"/admin/getArticleList\").then((res) => {\n              if (res.data.code === 301) {\n                message.error(\"重新登陆管理系统\");\n                props.history.push(\"/\");\n              } else setList(res.data);\n            });\n          });\n      },\n      onCancel() {\n        message.success(\"文章取消操作\");\n      },\n    });\n  }\n  function AlertArticle(id) {\n    props.history.push(\"/admin/add/\" + id);\n  }\n  return (\n    <style.ArticleListBox>\n      <List\n        header={\n          <Row className=\"list-div\">\n            <Col span={8}>\n              <strong>标题</strong>\n            </Col>\n            <Col span={4}>\n              <strong>类别</strong>\n            </Col>\n            <Col span={4}>\n              <strong>发布时间</strong>\n            </Col>\n            <Col span={4}>\n              <strong>浏览量</strong>\n            </Col>\n            <Col span={4}>\n              <strong>操作</strong>\n            </Col>\n          </Row>\n        }\n        bordered\n        dataSource={list}\n        renderItem={(item) => {\n          return (\n            <List.Item>\n              <Row className=\"list-div\">\n                <Col span={8}>{item.title}</Col>\n                <Col span={4}>{item.typeName}</Col>\n                <Col span={4}>{item.addTime}</Col>\n                <Col span={4}>{item.view_count}</Col>\n                <Col span={4}>\n                  <Button\n                    type=\"primary\"\n                    onClick={() => {\n                      AlertArticle(item.id);\n                    }}\n                  >\n                    修改\n                  </Button>\n                  &nbsp;\n                  <Button\n                    onClick={() => {\n                      deleteArticle(item.id);\n                    }}\n                  >\n                    删除\n                  </Button>\n                </Col>\n              </Row>\n            </List.Item>\n          );\n        }}\n      />\n    </style.ArticleListBox>\n  );\n}\nexport default ArticleList;\n","import { Layout, Menu, Breadcrumb } from 'antd';\nimport {\n  DesktopOutlined,\n  PieChartOutlined,\n  FileOutlined,\n  UserOutlined,\n} from '@ant-design/icons';\nimport * as style from './index'\nimport {useState} from 'react'\nimport {Route} from 'react-router-dom'\nimport AddArticle from './AddArticle/AddArticle'\nimport ArticleList from '../ArticleList/ArticleList';\nconst {  Content, Footer, Sider } = Layout;\nconst { SubMenu } = Menu;\n\nfunction Admin (props) {\n function handleClick(e){\n  if(e.key==='addArticle'){\n    props.history.push('/admin/add')\n  }else{\n    props.history.push('/admin/list')\n  }\n }\nconst [collapsed,setCollapsed] = useState(false)\n  function onCollapse (collapsed) {\n    console.log(collapsed);\n    setCollapsed( collapsed );\n  };\n    return (\n        <style.LayoutWrapper>\n      <Layout style={{ minHeight: '100vh' }}>\n        <Sider collapsible collapsed={collapsed} onCollapse={onCollapse}>\n          <div className=\"logo\" />\n          <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n            <Menu.Item key=\"1\" icon={<PieChartOutlined />}>\n              工作台\n            </Menu.Item>\n            <Menu.Item key=\"2\" icon={<DesktopOutlined />} onClick={()=>{\n              props.history.push('/admin/add')\n            }}>\n              添加文章\n            </Menu.Item>\n            <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"文章管理\" onClick={handleClick}>\n              <Menu.Item key=\"addArticle\">添加文章</Menu.Item>\n              <Menu.Item key=\"articleList\">文章列表</Menu.Item>\n            </SubMenu>    \n            <Menu.Item key=\"5\" icon={<FileOutlined />}>\n              留言管理\n            </Menu.Item>\n          </Menu>\n        </Sider>\n        <Layout className=\"site-layout\">\n          {/* <Header className=\"site-layout-background\" style={{ padding: 0 }} /> */}\n          <Content style={{ margin: '0 16px' }}>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n              <Breadcrumb.Item>后台管理系统</Breadcrumb.Item>\n              <Breadcrumb.Item>工作台</Breadcrumb.Item>\n            </Breadcrumb>\n            <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 360 }}>\n              <div>\n                  <Route path=\"/admin/\" exact  component={AddArticle}></Route>\n                  <Route path=\"/admin/add/:id?\" exact  component={AddArticle}></Route>\n                  <Route path=\"/admin/list\" exact component={ArticleList}></Route>\n              </div>\n            </div>\n          </Content>\n          <Footer style={{ textAlign: 'center' }}>zzxbg.cn</Footer>\n        </Layout>\n      </Layout>\n      </style.LayoutWrapper>\n    );\n  \n}\nexport default Admin","import \"./App.css\";\nimport Login from \"./pages/Login/Login\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Admin from \"./pages/Admin/Admin\";\nfunction App() {\n  return (\n    <Router>\n      <Route path=\"/\" exact component={Login} />\n      <Route path=\"/admin/\"   component={Admin}/>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'antd/dist/antd.css'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}